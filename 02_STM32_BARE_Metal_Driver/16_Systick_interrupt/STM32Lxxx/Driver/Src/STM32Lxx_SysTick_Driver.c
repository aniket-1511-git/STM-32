/*
 * STM32Lxx_SysTick_Driver.c
 *
 *  Created on: Sep 22, 2025
 *      Author: HP
 */


/**********************************************************************************************************************
 * Include files
**********************************************************************************************************************/
#include "STM32Lxx.h"
#include "STM32Lxx_Systick_header.h"

/*********************************************** end of Include files ************************************************/

/**********************************************************************************************************************
 * PRAGMAS
**********************************************************************************************************************/

/******************************************** end of PRAGMAs *********************************************************/

/**********************************************************************************************************************
 * Global Variables
**********************************************************************************************************************/
/* Flags used to indicate updated data is received*/


/*************************************** end of Global Variables ****************************************************/

/*********************************************************************************************************************
 * Static Function Prototypes
*********************************************************************************************************************/

/***************************************** end of Static Function Prototypes ****************************************/

/*********************************************************************************************************************
 * Function Definitions
*********************************************************************************************************************/

/*********************************************************************************************************************
* Function name      :
* Description        :
*
* Passing Arguments  : None
* Function Called By :
* Return value       : None
*********************************************************************************************************************/
void systickDelayMs(int32_t delayTime)
{
	SysTick->RVR = (4000000/1000) - 1;

	SysTick ->CVR = 0;
	SysTick ->CSR |= CTRL_ENABLE| CTRL_CLKSRC;

	for(int i=0;i<delayTime ;i++)
	{
		while(!(SysTick->CSR & CTRL_COUNTFLAG));
	}
	SysTick ->CSR = 0;
}

void systick_Interrupt1Hz(void)
{
	SysTick->RVR = 4000000;


	SysTick->CVR = 0;


	  SysTick->CSR = CTRL_ENABLE | CTRL_CLKSRC;

	SysTick->CSR |=CTRL_TICKINT;
}
/************************************************ end of Function Definitions ****************************************/
/************************************************ end of Samples_APP.c ***************************************************/


